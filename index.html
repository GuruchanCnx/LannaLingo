<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LannaLingo - Yi Peng Festival & Northern Thai Language</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* iOS 26 Liquid Glass Design System */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        :root {
            /* Light Theme Variables */
            --primary: #c1121f;
            --secondary: #e6af2e;
            --light: #f8f9fa;
            --dark: #1d3557;
            --accent: #a8dadc;
            --glass-bg: rgba(255, 255, 255, 0.85);
            --glass-border: rgba(255, 255, 255, 0.4);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --glass-backdrop: blur(24px);
            --university-blue: #2c5aa0;
            --ai-blue: #4361ee;
            --ai-purple: #7209b7;
            --success: #4caf50;
            --error: #f44336;
            --nav-text: #1d3557;
            --festival-gold: #ffd700;
            --festival-red: #c1121f;
        }
        
        .dark-theme {
            /* Dark Theme Variables */
            --primary: #e63946;
            --secondary: #ffd700;
            --light: #1b263b;
            --dark: #f1faee;
            --accent: #457b9d;
            --glass-bg: rgba(30, 30, 46, 0.85);
            --glass-border: rgba(255, 255, 255, 0.15);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --university-blue: #64b5f6;
            --ai-blue: #4cc9f0;
            --ai-purple: #bd5fff;
            --festival-gold: #ffd700;
            --festival-red: #e63946;
            --nav-text: #f1faee;
        }
        
        body {
            background: linear-gradient(135deg, #e6f0fa 0%, #d1e3f5 100%);
            color: var(--dark);
            line-height: 1.6;
            transition: background 0.3s ease, color 0.3s ease;
            min-height: 100vh;
        }
        
        .dark-theme body {
            background: linear-gradient(135deg, #0d1b2a 0%, #1b263b 100%);
        }
        
        /* Thai Font Support */
        .thai-text {
            font-family: 'TH Sarabun New', 'Sukhumvit Set', 'Kanit', sans-serif;
        }
        
        /* iOS 26 Liquid Glass Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            backdrop-filter: var(--glass-backdrop);
            -webkit-backdrop-filter: var(--glass-backdrop);
            background: var(--glass-bg);
            border-bottom: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            border-radius: 0 0 24px 24px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 14px;
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        .logo-icon {
            font-size: 2rem;
            color: var(--secondary);
            text-shadow: 0 2px 8px rgba(230, 175, 46, 0.3);
        }
        
        .nav-menu {
            display: flex;
            gap: 22px;
        }
        
        .nav-item {
            padding: 10px 20px;
            border-radius: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: transparent;
            border: 1px solid transparent;
            font-size: 1.05rem;
            color: var(--nav-text);
        }
        
        .nav-item:hover, .nav-item.active {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid var(--glass-border);
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
        }
        
        .theme-toggle, .language-toggle {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 18px;
            width: 52px;
            height: 42px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            backdrop-filter: var(--glass-backdrop);
            -webkit-backdrop-filter: var(--glass-backdrop);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            margin-left: 15px;
        }
        
        .theme-toggle:hover, .language-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
        }
        
        .theme-toggle i {
            font-size: 1.4rem;
            color: var(--secondary);
            transition: transform 0.3s ease;
        }
        
        .theme-toggle:hover i {
            transform: rotate(20deg);
        }
        
        .language-toggle i {
            font-size: 1.4rem;
            color: var(--primary);
        }
        
        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 140px 24px 60px;
        }
        
        .section {
            margin-bottom: 70px;
            scroll-margin-top: 120px;
        }
        
        .section-header {
            display: flex;
            align-items: center;
            gap: 18px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--secondary);
        }
        
        .section-header h2 {
            font-size: 2.4rem;
            color: var(--primary);
            font-weight: 800;
            text-shadow: 0 2px 4px rgba(193, 18, 31, 0.1);
        }
        
        .intro {
            background: var(--glass-bg);
            border-radius: 28px;
            padding: 35px;
            margin-bottom: 2.5rem;
            backdrop-filter: var(--glass-backdrop);
            -webkit-backdrop-filter: var(--glass-backdrop);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
        }
        
        .festival-hero {
            background: linear-gradient(135deg, rgba(193, 18, 31, 0.1) 0%, rgba(230, 175, 46, 0.1) 100%);
            border-radius: 28px;
            padding: 40px;
            margin-bottom: 2.5rem;
            text-align: center;
            backdrop-filter: var(--glass-backdrop);
            -webkit-backdrop-filter: var(--glass-backdrop);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
        }
        
        .festival-hero h1 {
            font-size: 2.8rem;
            color: var(--festival-red);
            margin-bottom: 20px;
            font-family: 'TH Sarabun New', sans-serif;
        }
        
        .festival-hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .stat-card {
            background: white;
            padding: 24px;
            border-radius: 24px;
            box-shadow: 0 10px 24px rgba(0,0,0,0.09);
            text-align: center;
            min-width: 140px;
            border: 1px solid var(--glass-border);
            transition: transform 0.3s ease;
        }
        
        .dark-theme .stat-card {
            background: #1b263b;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-card .number {
            font-size: 2.4rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 8px;
        }
        
        .stat-card .label {
            font-size: 1rem;
            color: var(--nav-text);
        }
        
        /* Festival Content Sections */
        .festival-section {
            background: var(--glass-bg);
            border-radius: 28px;
            padding: 35px;
            margin-top: 50px;
            backdrop-filter: var(--glass-backdrop);
            -webkit-backdrop-filter: var(--glass-backdrop);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
        }
        
        .festival-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        
        .festival-card {
            background: white;
            border-radius: 24px;
            padding: 28px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            border: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }
        
        .dark-theme .festival-card {
            background: #1b263b;
        }
        
        .festival-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 14px 36px rgba(0,0,0,0.2);
        }
        
        .festival-card h3 {
            color: var(--festival-red);
            margin-bottom: 18px;
            display: flex;
            align-items: center;
            gap: 14px;
            font-size: 1.4rem;
        }
        
        .festival-card .icon {
            width: 50px;
            height: 50px;
            border-radius: 14px;
            background: rgba(193, 18, 31, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--festival-red);
            font-size: 1.4rem;
        }
        
        /* Language Content */
        .language-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 3rem 0;
        }
        
        .language-card {
            background: var(--glass-bg);
            border-radius: 24px;
            padding: 28px;
            box-shadow: 0 12px 36px rgba(0, 0, 0, 0.14);
            border: 1px solid var(--glass-border);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: var(--glass-backdrop);
            -webkit-backdrop-filter: var(--glass-backdrop);
        }
        
        .language-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 18px 48px rgba(0, 0, 0, 0.22);
        }
        
        .language-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 20px;
        }
        
        .language-icon {
            width: 70px;
            height: 70px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            background: rgba(44, 90, 160, 0.15);
            color: var(--university-blue);
        }
        
        .language-card h3 {
            font-size: 1.6rem;
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        /* Gamification Section */
        .gamification-section {
            background: var(--glass-bg);
            border-radius: 28px;
            padding: 35px;
            margin-top: 50px;
            backdrop-filter: var(--glass-backdrop);
            -webkit-backdrop-filter: var(--glass-backdrop);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
        }
        
        .game-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }
        
        @media (max-width: 900px) {
            .game-container {
                grid-template-columns: 1fr;
            }
        }
        
        .flashcard-container {
            background: white;
            border-radius: 24px;
            height: 320px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px;
            margin: 20px 0;
            cursor: pointer;
            perspective: 1000px;
            box-shadow: 0 12px 36px rgba(0,0,0,0.14);
            border: 1px solid var(--glass-border);
        }
        
        .dark-theme .flashcard-container {
            background: #1b263b;
        }
        
        .flashcard {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .flashcard.flipped {
            transform: rotateY(180deg);
        }
        
        .flashcard-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 25px;
            text-align: center;
            border-radius: 20px;
        }
        
        .flashcard-front {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }
        
        .flashcard-back {
            background: var(--accent);
            color: var(--nav-text);
            transform: rotateY(180deg);
        }
        
        .flashcard-word {
            font-size: 2.8rem;
            font-weight: 800;
            margin-bottom: 20px;
            font-family: 'TH Sarabun New', sans-serif;
        }
        
        .flashcard-meaning {
            font-size: 1.6rem;
            font-weight: 600;
        }
        
        .flashcard-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .quiz-container {
            background: white;
            border-radius: 24px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 12px 36px rgba(0,0,0,0.14);
            border: 1px solid var(--glass-border);
        }
        
        .dark-theme .quiz-container {
            background: #1b263b;
        }
        
        .quiz-question {
            font-size: 1.5rem;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--accent);
        }
        
        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 18px;
            margin-top: 20px;
        }
        
        @media (max-width: 600px) {
            .quiz-options {
                grid-template-columns: 1fr;
            }
        }
        
        .quiz-option {
            background: var(--glass-bg);
            border: 2px solid var(--accent);
            border-radius: 18px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .quiz-option:hover {
            background: var(--accent);
            transform: translateY(-5px);
        }
        
        .quiz-option.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }
        
        .quiz-option.incorrect {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }
        
        .quiz-feedback {
            margin-top: 25px;
            padding: 18px;
            border-radius: 18px;
            text-align: center;
            font-weight: 600;
            display: none;
        }
        
        .feedback-correct {
            background: rgba(76, 175, 80, 0.2);
            color: #2e7d32;
        }
        
        .feedback-incorrect {
            background: rgba(244, 67, 54, 0.2);
            color: #c62828;
        }
        
        .quiz-controls {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 30px;
        }
        
        .btn {
            padding: 14px 32px;
            border-radius: 18px;
            font-weight: 700;
            font-size: 1.15rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
            box-shadow: 0 8px 24px rgba(193, 18, 31, 0.35);
        }
        
        .btn-primary:hover {
            background: #a01c24;
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(193, 18, 31, 0.45);
        }
        
        .btn-secondary {
            background: var(--accent);
            color: var(--nav-text);
            box-shadow: 0 8px 24px rgba(168, 218, 220, 0.35);
        }
        
        .btn-secondary:hover {
            background: #8ad0dc;
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(168, 218, 220, 0.45);
        }
        
        /* University Archives */
        .university-section {
            background: var(--glass-bg);
            border-radius: 28px;
            padding: 35px;
            margin-top: 50px;
            backdrop-filter: var(--glass-backdrop);
            -webkit-backdrop-filter: var(--glass-backdrop);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
        }
        
        .university-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 28px;
            margin-top: 28px;
        }
        
        .university-card {
            background: white;
            border-radius: 24px;
            padding: 28px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            border: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }
        
        .dark-theme .university-card {
            background: #1b263b;
        }
        
        .university-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 14px 36px rgba(0,0,0,0.2);
        }
        
        .university-card h3 {
            color: var(--university-blue);
            margin-bottom: 18px;
            display: flex;
            align-items: center;
            gap: 14px;
            font-size: 1.4rem;
        }
        
        .university-card ul {
            padding-left: 22px;
        }
        
        .university-card li {
            margin-bottom: 12px;
            line-height: 1.6;
        }
        
        /* AI Agents Section */
        .ai-agents {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 3rem 0;
        }
        
        .agent-card {
            background: var(--glass-bg);
            border-radius: 24px;
            padding: 28px;
            box-shadow: 0 12px 36px rgba(0, 0, 0, 0.14);
            border: 1px solid var(--glass-border);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: var(--glass-backdrop);
            -webkit-backdrop-filter: var(--glass-backdrop);
        }
        
        .agent-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 18px 48px rgba(0, 0, 0, 0.22);
        }
        
        .agent-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 20px;
        }
        
        .agent-icon {
            width: 70px;
            height: 70px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }
        
        .ai-linguist .agent-icon {
            background: rgba(67, 97, 238, 0.15);
            color: var(--ai-blue);
        }
        
        .ai-tutor .agent-icon {
            background: rgba(114, 9, 183, 0.15);
            color: var(--ai-purple);
        }
        
        .ai-archivist .agent-icon {
            background: rgba(44, 90, 160, 0.15);
            color: var(--university-blue);
        }
        
        .ai-chatbot .agent-icon {
            background: rgba(255, 215, 0, 0.15);
            color: var(--secondary);
        }
        
        .agent-card h3 {
            font-size: 1.6rem;
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        /* Chatbot */
        .chatbot-container {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 380px;
            height: 500px;
            background: var(--chatbot-bg);
            border-radius: 24px;
            box-shadow: 0 12px 36px rgba(0,0,0,0.2);
            border: 1px solid var(--glass-border);
            display: flex;
            flex-direction: column;
            z-index: 1000;
            overflow: hidden;
        }
        
        .chatbot-header {
            padding: 20px;
            background: linear-gradient(135deg, var(--ai-blue), var(--ai-purple));
            color: white;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .chatbot-header i {
            font-size: 1.8rem;
        }
        
        .chatbot-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .message {
            max-width: 80%;
            padding: 15px;
            border-radius: 18px;
            line-height: 1.5;
        }
        
        .bot-message {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }
        
        .user-message {
            background: var(--primary);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .chatbot-input {
            display: flex;
            padding: 15px;
            background: var(--glass-bg);
            border-top: 1px solid var(--glass-border);
        }
        
        .chatbot-input input {
            flex: 1;
            padding: 14px 20px;
            border: 2px solid var(--accent);
            border-radius: 16px;
            font-size: 1rem;
            outline: none;
        }
        
        .chatbot-input button {
            background: var(--primary);
            color: white;
            border: none;
            width: 50px;
            border-radius: 16px;
            margin-left: 10px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .chatbot-input button:hover {
            transform: scale(1.05);
        }
        
        .chatbot-toggle {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--ai-blue), var(--ai-purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 8px 24px rgba(67, 97, 238, 0.4);
            z-index: 999;
            transition: transform 0.3s ease;
        }
        
        .chatbot-toggle:hover {
            transform: scale(1.1) rotate(10deg);
        }
        
        /* Points System */
        .points-system {
            position: fixed;
            bottom: 24px;
            left: 24px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 14px 20px;
            backdrop-filter: var(--glass-backdrop);
            -webkit-backdrop-filter: var(--glass-backdrop);
            box-shadow: var(--glass-shadow);
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 998;
        }
        
        .points-icon {
            color: var(--primary);
            font-size: 1.6rem;
        }
        
        .points-value {
            font-weight: 700;
            font-size: 1.3rem;
            color: var(--primary);
        }
        
        /* Footer */
        footer {
            background: var(--dark);
            color: white;
            text-align: center;
            padding: 35px;
            margin-top: 70px;
            border-radius: 28px 28px 0 0;
        }
        
        .external-links {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .external-link {
            color: var(--secondary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: transform 0.2s;
        }
        
        .external-link:hover {
            transform: translateY(-3px);
            color: #ffd700;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .navbar {
                padding: 14px 18px;
            }
            
            .logo {
                font-size: 1.3rem;
            }
            
            .logo-icon {
                font-size: 1.7rem;
            }
            
            .nav-menu {
                display: none;
            }
            
            .container {
                padding: 120px 18px 40px;
            }
            
            .section-header h2 {
                font-size: 2rem;
            }
            
            .festival-hero h1 {
                font-size: 2.2rem;
            }
            
            .chatbot-container {
                width: 320px;
                height: 450px;
            }
        }
        
        /* Language specific styles */
        .lang-th .thai-word,
        .lang-th .example-thai,
        .lang-th .flashcard-word,
        .lang-th .festival-hero h1 {
            font-family: 'TH Sarabun New', sans-serif;
        }
        
        .lang-en .thai-word,
        .lang-en .example-thai,
        .lang-en .flashcard-word {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
    </style>
</head>
<body>
    <!-- iOS 26 Liquid Glass Navigation -->
    <nav class="navbar">
        <div class="logo">
            <i class="fas fa-language logo-icon"></i>
            <span id="app-title">LannaLingo</span>
        </div>
        <div class="nav-menu">
            <div class="nav-item active" data-target="festival">Yi Peng</div>
            <div class="nav-item" data-target="traditions">Traditions</div>
            <div class="nav-item" data-target="language">Language</div>
            <div class="nav-item" data-target="gamification">Gamify</div>
            <div class="nav-item" data-target="archives">Archives</div>
            <div class="nav-item" data-target="about">About</div>
        </div>
        <div style="display: flex; align-items: center;">
            <div class="language-toggle" id="language-toggle">
                <i class="fas fa-language"></i>
            </div>
            <div class="theme-toggle" id="theme-toggle">
                <i class="fas fa-sun"></i>
            </div>
        </div>
    </nav>
    
    <!-- Chatbot Toggle -->
    <div class="chatbot-toggle" id="chatbot-toggle">
        <i class="fas fa-robot"></i>
    </div>
    
    <!-- Chatbot Container -->
    <div class="chatbot-container" id="chatbot-container" style="display: none;">
        <div class="chatbot-header">
            <i class="fas fa-robot"></i>
            <div>
                <div>LannaLingo AI Assistant</div>
                <div style="font-size: 0.9rem; opacity: 0.9;">Ask about Yi Peng traditions</div>
            </div>
        </div>
        <div class="chatbot-messages" id="chatbot-messages">
            <div class="message bot-message">
                Hello! I'm your AI language assistant. Ask me about Yi Peng festival traditions, Lanna expressions, or Hill Tribe phrases!
            </div>
        </div>
        <div class="chatbot-input">
            <input type="text" id="chatbot-input" placeholder="Type your question...">
            <button id="chatbot-send"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>
    
    <!-- Points System -->
    <div class="points-system">
        <div class="points-icon">
            <i class="fas fa-medal"></i>
        </div>
        <div>
            <div>Points</div>
            <div class="points-value" id="points-count">0</div>
        </div>
    </div>
    
    <div class="container">
        <!-- Yi Peng Festival Hero Section -->
        <section id="festival" class="section">
            <div class="festival-hero">
                <h1>ประเพณียี่เป็งล้านนา<br><span style="font-size: 1.8rem; color: var(--festival-gold);">Yi Peng Lanna Festival</span></h1>
                <p id="festival-desc">The sacred festival of light in Northern Thailand, where thousands of lanterns illuminate the night sky in honor of the Buddha and ancestral spirits.</p>
            </div>
        </section>
        
        <!-- Yi Peng Traditions Section -->
        <section id="traditions" class="section">
            <div class="section-header">
                <i class="fas fa-lamp"></i>
                <h2 id="traditions-title">Yi Peng Traditions & Rituals</h2>
            </div>
            
            <div class="festival-section">
                <div class="festival-grid">
                    <div class="festival-card">
                        <div class="icon">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <h3 id="lanterns-title">Lanna Lanterns (Khom Fai)</h3>
                        <p id="lanterns-desc">In the period before the full moon day of the second month, Lanna people with skilled craftsmanship create various shaped lamps to prepare for worship at temples. These lanterns are hung at relics and chedis in front of temples, and nowadays are popular as building decorations.</p>
                    </div>
                    
                    <div class="festival-card">
                        <div class="icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <h3 id="merit-making-title">Merit-Making Events</h3>
                        <p id="merit-making-desc">During Yi Peng, Lanna people hold major merit-making events. From the 13th evening (Dhammawat sermon) to the 14th evening (thousand verses sermon), culminating on the 15th evening with the Mahachat Vessantara Jataka sermon. Temples are decorated with royal fences and forest gates modeled after Phra Vessantara's exile.</p>
                    </div>
                    
                    <div class="festival-card">
                        <div class="icon">
                            <i class="fas fa-flag"></i>
                        </div>
                        <h3 id="tung-title">Tung Lanna</h3>
                        <p id="tung-desc">Tung are decorative sheets made of cloth, paper, wood, metal, brass, or palm leaves, used in Lanna rituals. They are offered to Buddha in both auspicious and inauspicious ceremonies. Northerners believe that donating Tung brings great merit and benefits.</p>
                    </div>
                    
                    <div class="festival-card">
                        <div class="icon">
                            <i class="fas fa-candle"></i>
                        </div>
                        <h3 id="candles-title">Yi Peng Merit Candles</h3>
                        <p id="candles-desc">Lanna people light candles to worship the five gods according to the legend of Mae Ka Phueak. Candles are placed at house doors, wells, barns, stoves, stairs, and windows as worship of light, believed to bring intelligence and brightness to one's life.</p>
                    </div>
                    
                    <div class="festival-card">
                        <div class="icon">
                            <i class="fas fa-water"></i>
                        </div>
                        <h3 id="krathong-title">Krathong Offerings</h3>
                        <p id="krathong-desc">Krathongs are shaped like blooming lotuses to pay homage to the Ganga River and ask forgiveness. They contain incense sticks, candles, and traditionally include cut nails and hair to release suffering and illness. Baht coins are also placed in krathongs before floating them on rivers.</p>
                    </div>
                    
                    <div class="festival-card">
                        <div class="icon">
                            <i class="fas fa-ship"></i>
                        </div>
                        <h3 id="floating-title">Floating Lanterns (Long La Pao)</h3>
                        <p id="floating-desc">Also known as Sai Ruea Sai Fai, this tradition dates back to the Hariphunchai period (14th century). During cholera outbreaks, people who migrated to Hongsawadee would float offerings with flowers, incense, candles, and consumer goods down the Mae Ping and Mae Kuang Rivers to remember relatives still living there.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Language & Expressions Section -->
        <section id="language" class="section">
            <div class="section-header">
                <i class="fas fa-language"></i>
                <h2 id="language-title">Yi Peng Related Expressions</h2>
            </div>
            
            <div class="language-grid">
                <div class="language-card">
                    <div class="language-header">
                        <div class="language-icon">
                            <i class="fas fa-lamp"></i>
                        </div>
                        <h3>ยี่เป็ง (Yi Peng)</h3>
                    </div>
                    <p><strong>Meaning:</strong> The full moon day of the second lunar month in Lanna calendar</p>
                    <p><strong>Usage:</strong> "วันยี่เป็งปีนี้จะไปวัดพระสิงห์" (This Yi Peng, I'll go to Wat Phra Singh)</p>
                </div>
                
                <div class="language-card">
                    <div class="language-header">
                        <div class="language-icon">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <h3>โคมไฟ (Khom Fai)</h3>
                    </div>
                    <p><strong>Meaning:</strong> Traditional Lanna lanterns</p>
                    <p><strong>Usage:</strong> "ช่างทำโคมไฟมีฝีมือมาก" (The lantern maker is very skilled)</p>
                </div>
                
                <div class="language-card">
                    <div class="language-header">
                        <div class="language-icon">
                            <i class="fas fa-flag"></i>
                        </div>
                        <h3>ตุง (Tung)</h3>
                    </div>
                    <p><strong>Meaning:</strong> Decorative ritual banners</p>
                    <p><strong>Usage:</strong> "ตุงที่วัดมีหลายแบบ" (The temple has many types of Tung)</p>
                </div>
                
                <div class="language-card">
                    <div class="language-header">
                        <div class="language-icon">
                            <i class="fas fa-candle"></i>
                        </div>
                        <h3>เทียนยี่เป็ง (Thian Yi Peng)</h3>
                    </div>
                    <p><strong>Meaning:</strong> Yi Peng merit candles</p>
                    <p><strong>Usage:</strong> "จุดเทียนยี่เป็งที่บ้านให้สว่าง" (Light Yi Peng candles at home to make it bright)</p>
                </div>
            </div>
        </section>
        
        <!-- Gamification Section -->
        <section id="gamification" class="section">
            <div class="section-header">
                <i class="fas fa-trophy"></i>
                <h2 id="gamification-title">Learn with Gamification</h2>
            </div>
            
            <div class="gamification-section">
                <div class="game-container">
                    <div>
                        <h3 style="text-align: center; margin-bottom: 20px;" id="flashcards-title">Interactive Flashcards</h3>
                        <div class="flashcard-container" id="flashcard-container">
                            <div class="flashcard" id="flashcard">
                                <div class="flashcard-face flashcard-front">
                                    <div class="flashcard-word" id="flashcard-word">ยี่เป็ง</div>
                                    <div id="flashcard-hint">Click to reveal meaning</div>
                                </div>
                                <div class="flashcard-face flashcard-back">
                                    <div class="flashcard-meaning" id="flashcard-meaning">The full moon day of the second lunar month in Lanna calendar</div>
                                    <div>Click to flip back</div>
                                </div>
                            </div>
                        </div>
                        <div class="flashcard-controls">
                            <button class="btn btn-secondary" id="prev-flashcard">
                                <i class="fas fa-arrow-left"></i> Previous
                            </button>
                            <button class="btn btn-primary" id="next-flashcard">
                                Next <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div>
                        <h3 style="text-align: center; margin-bottom: 20px;" id="quiz-title">AI-Powered Quiz</h3>
                        <div class="quiz-container">
                            <div class="quiz-question" id="quiz-question">What does "ยี่เป็ง" mean?</div>
                            <div class="quiz-options" id="quiz-options">
                                <!-- Options will be populated by JavaScript -->
                            </div>
                            <div class="quiz-feedback" id="quiz-feedback"></div>
                            <div class="quiz-controls">
                                <button class="btn btn-secondary" id="reset-quiz">
                                    <i class="fas fa-redo"></i> Reset Quiz
                                </button>
                                <button class="btn btn-primary" id="next-question">
                                    Next Question <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- University Archives Section -->
        <section id="archives" class="section">
            <div class="section-header">
                <i class="fas fa-graduation-cap"></i>
                <h2 id="archives-title">University Research Archives</h2>
            </div>
            
            <div class="university-section">
                <p id="archives-desc">This project collaborates with leading universities in Chiang Mai to preserve and share linguistic research on Northern Thai dialects, Lanna language, and Hill Tribe expressions.</p>
                
                <div class="university-grid">
                    <div class="university-card">
                        <h3><i class="fas fa-graduation-cap"></i> Payap University</h3>
                        <ul>
                            <li><a href="https://www.payap.ac.th" target="_blank" class="external-link">Lanna Language Documentation Project</a></li>
                            <li>Hill Tribe Linguistic Studies</li>
                            <li>Northern Thai Dialect Archive</li>
                            <li>Cultural Anthropology Research</li>
                        </ul>
                    </div>
                    <div class="university-card">
                        <h3><i class="fas fa-graduation-cap"></i> Chiang Mai University</h3>
                        <ul>
                            <li><a href="https://www.cmu.ac.th" target="_blank" class="external-link">Linguistics Department Archives</a></li>
                            <li>Anthropology Field Research</li>
                            <li>Endangered Languages Project</li>
                            <li>Regional Cultural Studies</li>
                        </ul>
                    </div>
                    <div class="university-card">
                        <h3><i class="fas fa-graduation-cap"></i> Chiang Mai Rajabhat University</h3>
                        <ul>
                            <li><a href="https://www.cmru.ac.th" target="_blank" class="external-link">Local History Documentation</a></li>
                            <li>Traditional Expression Archives</li>
                            <li>Community Language Preservation</li>
                            <li>Ethnographic Research</li>
                        </ul>
                    </div>
                    <div class="university-card">
                        <h3><i class="fas fa-graduation-cap"></i> Research Contributions</h3>
                        <ul>
                            <li>Academic Papers & Theses</li>
                            <li>Field Recordings & Transcripts</li>
                            <li>Historical Linguistic Data</li>
                            <li>Cultural Context Documentation</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- AI Agents Section -->
        <section id="ai-agents" class="section">
            <div class="section-header">
                <i class="fas fa-brain"></i>
                <h2 id="ai-agents-title">AI Learning Agents</h2>
            </div>
            
            <div class="ai-agents">
                <div class="agent-card ai-linguist">
                    <div class="agent-header">
                        <div class="agent-icon">
                            <i class="fas fa-language"></i>
                        </div>
                        <h3>AI Linguist</h3>
                    </div>
                    <p>Analyzes your learning patterns and recommends expressions based on your proficiency level. Provides contextual examples and cultural insights.</p>
                </div>
                
                <div class="agent-card ai-tutor">
                    <div class="agent-header">
                        <div class="agent-icon">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <h3>AI Tutor</h3>
                    </div>
                    <p>Creates customized quizzes and flashcards based on your progress. Adapts difficulty levels and focuses on areas needing more practice.</p>
                </div>
                
                <div class="agent-card ai-archivist">
                    <div class="agent-header">
                        <div class="agent-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <h3>AI Archivist</h3>
                    </div>
                    <p>Curates content from university research archives, ensuring authentic and academically verified expressions from leading institutions.</p>
                </div>
                
                <div class="agent-card ai-chatbot">
                    <div class="agent-header">
                        <div class="agent-icon">
                            <i class="fas fa-comments"></i>
                        </div>
                        <h3>AI Chatbot</h3>
                    </div>
                    <p>Interactive conversational assistant that answers questions about expressions, provides pronunciation help, and offers cultural context.</p>
                </div>
            </div>
        </section>
        
        <!-- About Section -->
        <section id="about" class="section">
            <div class="section-header">
                <i class="fas fa-info-circle"></i>
                <h2 id="about-title">About This Project</h2>
            </div>
            
            <div class="intro">
                <p id="about-desc">This project preserves and shares the authentic Yi Peng festival traditions of Northern Thailand, based on historical documents from Lanna Kingdom. The content is sourced from university archives and verified by cultural experts to ensure accuracy and respect for Lanna heritage.</p>
                <p id="about-desc2">All expressions and traditions are presented with proper cultural context to help visitors and language enthusiasts connect more deeply with Northern Thai culture during this sacred festival of light.</p>
                
                <div class="external-links">
                    <a href="https://www.tourismthailand.org" target="_blank" class="external-link">
                        <i class="fas fa-globe-asia"></i> Tourism Thailand
                    </a>
                    <a href="https://www.chiangmai.go.th" target="_blank" class="external-link">
                        <i class="fas fa-landmark"></i> Chiang Mai Province
                    </a>
                    <a href="https://www.sealang.net/lanna/" target="_blank" class="external-link">
                        <i class="fas fa-book"></i> Lanna Dictionary
                    </a>
                </div>
            </div>
        </section>
    </div>
    
    <footer>
        <p>LannaLingo &copy; 2023 | Preserving Northern Thai Cultural Heritage</p>
        <p style="margin-top: 10px; font-size: 0.9rem; opacity: 0.8;">Content sourced from authentic Lanna documents and verified by cultural experts</p>
    </footer>

    <script>
        // Initialize points
        let userPoints = 0;
        const pointsCount = document.getElementById('points-count');
        
        // Update points display
        function updatePoints(amount = 0) {
            userPoints += amount;
            pointsCount.textContent = userPoints;
        }
        
        // Theme toggle functionality
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = themeToggle.querySelector('i');
        
        // Check for saved theme preference or respect OS preference
        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        let currentTheme = savedTheme || (prefersDark ? 'dark' : 'light');
        
        // Apply theme
        function applyTheme(theme) {
            if (theme === 'dark') {
                document.body.classList.add('dark-theme');
                themeIcon.className = 'fas fa-moon';
            } else {
                document.body.classList.remove('dark-theme');
                themeIcon.className = 'fas fa-sun';
            }
            localStorage.setItem('theme', theme);
        }
        
        // Initialize theme
        applyTheme(currentTheme);
        
        // Toggle theme
        themeToggle.addEventListener('click', () => {
            currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
            applyTheme(currentTheme);
        });
        
        // Language translations - FULL BILINGUAL SUPPORT
        const translations = {
            en: {
                appTitle: "LannaLingo",
                festivalDesc: "The sacred festival of light in Northern Thailand, where thousands of lanterns illuminate the night sky in honor of the Buddha and ancestral spirits.",
                traditionsTitle: "Yi Peng Traditions & Rituals",
                lanternsTitle: "Lanna Lanterns (Khom Fai)",
                lanternsDesc: "In the period before the full moon day of the second month, Lanna people with skilled craftsmanship create various shaped lamps to prepare for worship at temples. These lanterns are hung at relics and chedis in front of temples, and nowadays are popular as building decorations.",
                meritMakingTitle: "Merit-Making Events",
                meritMakingDesc: "During Yi Peng, Lanna people hold major merit-making events. From the 13th evening (Dhammawat sermon) to the 14th evening (thousand verses sermon), culminating on the 15th evening with the Mahachat Vessantara Jataka sermon. Temples are decorated with royal fences and forest gates modeled after Phra Vessantara's exile.",
                tungTitle: "Tung Lanna",
                tungDesc: "Tung are decorative sheets made of cloth, paper, wood, metal, brass, or palm leaves, used in Lanna rituals. They are offered to Buddha in both auspicious and inauspicious ceremonies. Northerners believe that donating Tung brings great merit and benefits.",
                candlesTitle: "Yi Peng Merit Candles",
                candlesDesc: "Lanna people light candles to worship the five gods according to the legend of Mae Ka Phueak. Candles are placed at house doors, wells, barns, stoves, stairs, and windows as worship of light, believed to bring intelligence and brightness to one's life.",
                krathongTitle: "Krathong Offerings",
                krathongDesc: "Krathongs are shaped like blooming lotuses to pay homage to the Ganga River and ask forgiveness. They contain incense sticks, candles, and traditionally include cut nails and hair to release suffering and illness. Baht coins are also placed in krathongs before floating them on rivers.",
                floatingTitle: "Floating Lanterns (Long La Pao)",
                floatingDesc: "Also known as Sai Ruea Sai Fai, this tradition dates back to the Hariphunchai period (14th century). During cholera outbreaks, people who migrated to Hongsawadee would float offerings with flowers, incense, candles, and consumer goods down the Mae Ping and Mae Kuang Rivers to remember relatives still living there.",
                languageTitle: "Yi Peng Related Expressions",
                gamificationTitle: "Learn with Gamification",
                flashcardsTitle: "Interactive Flashcards",
                quizTitle: "AI-Powered Quiz",
                archivesTitle: "University Research Archives",
                archivesDesc: "This project collaborates with leading universities in Chiang Mai to preserve and share linguistic research on Northern Thai dialects, Lanna language, and Hill Tribe expressions.",
                aiAgentsTitle: "AI Learning Agents",
                aboutTitle: "About This Project",
                aboutDesc: "This project preserves and shares the authentic Yi Peng festival traditions of Northern Thailand, based on historical documents from Lanna Kingdom. The content is sourced from university archives and verified by cultural experts to ensure accuracy and respect for Lanna heritage.",
                aboutDesc2: "All expressions and traditions are presented with proper cultural context to help visitors and language enthusiasts connect more deeply with Northern Thai culture during this sacred festival of light."
            },
            th: {
                appTitle: "ภาษาล้านนา",
                festivalDesc: "เทศกาลศักดิ์สิทธิ์แห่งแสงสว่างในภาคเหนือของไทย ที่โคมไฟนับพันจะส่องสว่างท้องฟ้ายามค่ำคืนเพื่อบูชาพระพุทธเจ้าและดวงวิญญาณบรรพชน",
                traditionsTitle: "ประเพณียี่เป็งและพิธีกรรม",
                lanternsTitle: "โคมไฟล้านนา (Khom Fai)",
                lanternsDesc: "ในช่วงก่อนวันเพ็ญเดือนสอง ชาวล้านนาผู้มีฝีมือจะสร้างโคมไฟรูปแบบต่างๆ เพื่อเตรียมใช้ในการจุดบูชาที่วัดในวันเพ็ญ โดยแขวนโคมที่พระสถูปเจดีย์หน้าวัด ปัจจุบันนิยมแขวนเป็นของตกแต่งอาคาร",
                meritMakingTitle: "กิจกรรมทำบุญ",
                meritMakingDesc: "ในช่วงยี่เป็ง ชาวล้านนาจะมีกิจกรรมทำบุญใหญ่ ตั้งแต่ค่ำวันที่ 13 (เทศน์ธรรมวัด) ถึงค่ำวันที่ 14 (เทศน์พันข้อ) และในค่ำวันที่ 15 วันพระใหญ่ จะมีการเทศน์มหาชาติเวสสันดร ภายในวัดจะตกแต่งด้วยรั้วไม้ ซุ้มประตูป่า จำลองตามที่พระเวสสันดรถูกขับไล่",
                tungTitle: "ตุงล้านนา",
                tungDesc: "ตุงคือเครื่องตกแต่งที่ทำจากผ้า กระดาษ ไม้ โลหะ ทองเหลือง หรือใบลาน ใช้ในพิธีกรรมของชาวล้านนา ถวายเป็นพุทธบูชาทั้งในงานมงคลและอวมงคล มีขนาด รูปร่าง และรายละเอียดต่างกันไป ชาวเหนือเชื่อว่าการถวายหรือบริจาคตุงจะได้รับอานิสงส์และบุญกุศลมาก",
                candlesTitle: "เทียนยี่เป็ง",
                candlesDesc: "ชาวล้านนาจุดเทียนบูชาเทพทั้งห้าตามตำนานแม่กาเผือก และบูชาสิ่งที่เป็นประโยชน์ เช่น ประตูบ้าน บ่อน้ำ ยุ้งข้าว เตาไฟ บันได หน้าต่าง เป็นการบูชาแสงสว่าง เชื่อว่าจะทำให้เป็นคนฉลาด ปราดเปรื่อง และชีวิตสว่างไสวเหมือนแสงเทียน",
                krathongTitle: "กระทงบูชา",
                krathongDesc: "กระทงมีรูปดอกบัวบาน ถือตามความเชื่อในพุทธศาสนา เพื่อบูชาแม่น้ำคงคาและขออโหสิกรรม กระทงจะมีธูปเทียน ตามความเชื่อโบราณจะตัดเล็บและผม เพราะเชื่อว่าเป็นการปล่อยทุกข์ โศก โรคภัยไข้เจ็บจากชีวิต ลอยไปกับแม่น้ำ รวมถึงใส่เหรียญบาทลงในกระทงด้วย",
                floatingTitle: "ลอยโคม (ลองล่าเป้า)",
                floatingDesc: "หรือที่เรียกว่า ใส่เรือใส่ไฟ ตามตำนานเมืองลำพูน กล่าวถึงการลอยสำเภาในแม่น้ำ ในสมัยหริภุญชัย ประมาณพุทธศตวรรษที่ 19 เกิดโรคอหิวาตกโรคระบาด ประชาชนอพยพไปเมืองหงสาวดี เมื่อทราบข่าวว่าโรคระบาดในหริภุญชัยสงบลง จึงพากันกลับ แต่มีหลายคนไม่ได้กลับเพราะมีครอบครัวใหม่ ผู้ที่กลับมาจึงคิดถึงญาติที่ยังอยู่ในเมืองหงสาวดี จึงจัดดอกไม้ ธูปเทียน ของใช้ ใส่ในสำเภาลอยลงแม่น้ำปิงและแม่น้ำกวงเพื่อระลึกถึง",
                languageTitle: "คำศัพท์เกี่ยวกับยี่เป็ง",
                gamificationTitle: "เรียนรู้ผ่านเกม",
                flashcardsTitle: "การ์ดคำศัพท์โต้ตอบ",
                quizTitle: "แบบทดสอบขับเคลื่อนด้วยเอไอ",
                archivesTitle: "คลังข้อมูลวิจัยมหาวิทยาลัย",
                archivesDesc: "โครงการนี้ร่วมมือกับมหาวิทยาลัยชั้นนำในเชียงใหม่เพื่ออนุรักษ์และแบ่งปันงานวิจัยทางภาษาเกี่ยวกับภาษาถิ่นเหนือ ภาษาล้านนา และสำนวนชนเผ่าบนดอย",
                aiAgentsTitle: "เอไอผู้ช่วยการเรียนรู้",
                aboutTitle: "เกี่ยวกับโครงการนี้",
                aboutDesc: "โครงการนี้อนุรักษ์และแบ่งปันประเพณียี่เป็งแท้ของภาคเหนือของไทย ตามเอกสารประวัติศาสตร์จากอาณาจักรล้านนา เนื้อหาได้รับจากคลังข้อมูลมหาวิทยาลัยและตรวจสอบโดยผู้เชี่ยวชาญด้านวัฒนธรรมเพื่อความถูกต้องและเคารพมรดกทางวัฒนธรรมล้านนา",
                aboutDesc2: "คำศัพท์และประเพณีทั้งหมดนำเสนอพร้อมบริบททางวัฒนธรรมที่เหมาะสม เพื่อช่วยให้นักท่องเที่ยวและผู้สนใจภาษาได้เชื่อมโยงกับวัฒนธรรมภาคเหนืออย่างลึกซึ้งในช่วงเทศกาลศักดิ์สิทธิ์แห่งแสงสว่างนี้"
            }
        };
        
        // Current language
        let currentLang = 'en';
        
        // Comprehensive content from PDF - FULL INTEGRATION
        const yiPengContent = {
            // All content extracted and structured from the PDF
            lanterns: {
                en: "In the period before the full moon day of the second month Lanna people with skilled craftsmanship will create various shaped lamps to prepare for use in lighting candles for worship at temples on the full moon day by hanging lanterns at the relics and chedi in front of the temple. Nowadays it is popular to hang decorations on buildings.",
                th: "ในช่วงก่อนวันเพ็ญเดือนสอง ชาวล้านนาผู้มีฝีมือจะสร้างโคมไฟรูปแบบต่างๆ เพื่อเตรียมใช้ในการจุดบูชาที่วัดในวันเพ็ญ โดยแขวนโคมที่พระสถูปเจดีย์หน้าวัด ปัจจุบันนิยมแขวนเป็นของตกแต่งอาคาร"
            },
            meritMaking: {
                en: "In the past, during the Yi Peng period Lanna will have a big merit-making event. It is the main heart, from the 13th evening of the Dhammawat sermon to the 14th evening of the thousand verses sermon. On the 15th evening of the big Buddha day, it is the Mahachat Vessantara Jataka sermon. From the early morning until the completion of all 13 kanthas in one day. Inside the temple, the place will be decorated. Build a royal fence, a forest gate, modeled after Phra Vessantara was driven out.",
                th: "ในช่วงยี่เป็ง ชาวล้านนาจะมีกิจกรรมทำบุญใหญ่ ตั้งแต่ค่ำวันที่ 13 (เทศน์ธรรมวัด) ถึงค่ำวันที่ 14 (เทศน์พันข้อ) และในค่ำวันที่ 15 วันพระใหญ่ จะมีการเทศน์มหาชาติเวสสันดร ภายในวัดจะตกแต่งด้วยรั้วไม้ ซุ้มประตูป่า จำลองตามที่พระเวสสันดรถูกขับไล่"
            },
            tung: {
                en: "Tung Lanna means a tool used for decoration or use in a ritual of the Lanna people. It looks like a sheet made of cloth or wood. The end hangs like a long sheet. Tung found in Lanna is mostly made from cloth, paper, wood, metal, brass or palm leaves. The beliefs of the Lanna people believe that 'Tung' is one thing that participates in the belief tradition. made to be offered as an offering to Buddha Used in religious ceremonies Both in auspicious and inauspicious events, they will have different sizes, shapes and details. including beliefs Rituals as well as popularity in each locality Northerners therefore believe that Offering or donating Tung has great benefits or merit.",
                th: "ตุงคือเครื่องตกแต่งที่ทำจากผ้า กระดาษ ไม้ โลหะ ทองเหลือง หรือใบลาน ใช้ในพิธีกรรมของชาวล้านนา ถวายเป็นพุทธบูชาทั้งในงานมงคลและอวมงคล มีขนาด รูปร่าง และรายละเอียดต่างกันไป ชาวเหนือเชื่อว่าการถวายหรือบริจาคตุงจะได้รับอานิสงส์และบุญกุศลมาก"
            },
            candles: {
                en: "Lanna people light candles to worship the five gods according to the legend of Mae Ka Phueak and a place of worship to repay merit to benefactors. Lanna people therefore like to light candles to pay homage. To things that are useful such as house doors, wells, barns, stoves, stairs, windows, etc. It is also a worship of light. It is believed to make one intelligent, intelligent and bright. Lead your life so that it shines brightly like the light from the candlelight. For this reason, the Yi Peng Festival period is bright and filled with bright light",
                th: "ชาวล้านนาจุดเทียนบูชาเทพทั้งห้าตามตำนานแม่กาเผือก และบูชาสิ่งที่เป็นประโยชน์ เช่น ประตูบ้าน บ่อน้ำ ยุ้งข้าว เตาไฟ บันได หน้าต่าง เป็นการบูชาแสงสว่าง เชื่อว่าจะทำให้เป็นคนฉลาด ปราดเปรื่อง และชีวิตสว่างไสวเหมือนแสงเทียน"
            },
            krathong: {
                en: "The method for making krathongs is usually in the shape of a blooming lotus which is held according to beliefs in Buddhism. Because it is considered Pay homage to the Ganga River and ask for forgiveness with lotus flowers. that we have transgressed As for our Krathong, it will consist of: Sticking incense sticks and candles. According to the beliefs of ancient people, they would cut their nails and hair because they believed that that it is the release of suffering Grief includes various illnesses. From our lives, let's float along the river or put a coin Baht coins also go into the krathong.",
                th: "กระทงมีรูปดอกบัวบาน ถือตามความเชื่อในพุทธศาสนา เพื่อบูชาแม่น้ำคงคาและขออโหสิกรรม กระทงจะมีธูปเทียน ตามความเชื่อโบราณจะตัดเล็บและผม เพราะเชื่อว่าเป็นการปล่อยทุกข์ โศก โรคภัยไข้เจ็บจากชีวิต ลอยไปกับแม่น้ำ รวมถึงใส่เหรียญบาทลงในกระทงด้วย"
            },
            floating: {
                en: "Floating lanterns and water offerings Also known as Long La Pao or Sai Ruea Sai Fai. In ancient times according to the legend of Lamphun city. The bound palm leaf edition of Ban Hong Luang Temple, Lamphun Province, mentions floating sapao through water. In the Hariphunchai period it was stated that around the 14th century, there was an outbreak of cholera in the city. Many people died. So they migrated from Hariphunchai to the city of Hongsawadee. for many years When they heard the news that cholera had subsided in Hariphunchai, they together they traveled back to Hariphunchai. But many did not return. Because there is a new family as for those who have returned, they miss their relatives still living in Hongsawadee city. During the month of Yi Peng, it was organized flowers, incense sticks, candles, offerings along with consumer goods put into the 'sapao' float into the Mae Ping River and Mae Kuang River to remember relatives.",
                th: "หรือที่เรียกว่า ใส่เรือใส่ไฟ ตามตำนานเมืองลำพูน กล่าวถึงการลอยสำเภาในแม่น้ำ ในสมัยหริภุญชัย ประมาณพุทธศตวรรษที่ 19 เกิดโรคอหิวาตกโรคระบาด ประชาชนอพยพไปเมืองหงสาวดี เมื่อทราบข่าวว่าโรคระบาดในหริภุญชัยสงบลง จึงพากันกลับ แต่มีหลายคนไม่ได้กลับเพราะมีครอบครัวใหม่ ผู้ที่กลับมาจึงคิดถึงญาติที่ยังอยู่ในเมืองหงสาวดี จึงจัดดอกไม้ ธูปเทียน ของใช้ ใส่ในสำเภาลอยลงแม่น้ำปิงและแม่น้ำกวงเพื่อระลึกถึง"
            }
        };
        
        // Yi Peng expressions data
        const yiPengExpressions = [
            { thai: "ยี่เป็ง", meaning_en: "The full moon day of the second lunar month in Lanna calendar", meaning_th: "วันเพ็ญเดือนสองตามปฏิทินล้านนา", usage_en: '"This Yi Peng, I\'ll go to Wat Phra Singh"', usage_th: '"วันยี่เป็งปีนี้จะไปวัดพระสิงห์"' },
            { thai: "โคมไฟ", meaning_en: "Traditional Lanna lanterns", meaning_th: "โคมไฟแบบดั้งเดิมของล้านนา", usage_en: '"The lantern maker is very skilled"', usage_th: '"ช่างทำโคมไฟมีฝีมือมาก"' },
            { thai: "ตุง", meaning_en: "Decorative ritual banners", meaning_th: "ธงประดับพิธีกรรม", usage_en: '"The temple has many types of Tung"', usage_th: '"ตุงที่วัดมีหลายแบบ"' },
            { thai: "เทียนยี่เป็ง", meaning_en: "Yi Peng merit candles", meaning_th: "เทียนทำบุญในวันยี่เป็ง", usage_en: '"Light Yi Peng candles at home to make it bright"', usage_th: '"จุดเทียนยี่เป็งที่บ้านให้สว่าง"' },
            { thai: "กระทง", meaning_en: "Lotus-shaped floating offerings", meaning_th: "กระทงรูปดอกบัวสำหรับลอยน้ำ", usage_en: '"Float krathong on the river for forgiveness"', usage_th: '"ลอยกระทงในแม่น้ำเพื่อขออโหสิกรรม"' },
            { thai: "ลองล่าเป้า", meaning_en: "Floating lantern ceremony", meaning_th: "พิธีลอยโคม", usage_en: '"Long La Pao ceremony remembers ancestors"', usage_th: '"พิธีลองล่าเป้าระลึกถึงบรรพชน"' }
        ];
        
        // Language toggle functionality
        const languageToggle = document.getElementById('language-toggle');
        languageToggle.addEventListener('click', () => {
            currentLang = currentLang === 'en' ? 'th' : 'en';
            document.body.className = document.body.className.replace(/lang-\w+/g, '') + ` lang-${currentLang}`;
            updateTranslations();
            updateContentFromPDF();
        });
        
        // Update all text based on current language
        function updateTranslations() {
            document.getElementById('app-title').textContent = translations[currentLang].appTitle;
            document.getElementById('festival-desc').textContent = translations[currentLang].festivalDesc;
            document.getElementById('traditions-title').textContent = translations[currentLang].traditionsTitle;
            document.getElementById('lanterns-title').textContent = translations[currentLang].lanternsTitle;
            document.getElementById('merit-making-title').textContent = translations[currentLang].meritMakingTitle;
            document.getElementById('tung-title').textContent = translations[currentLang].tungTitle;
            document.getElementById('candles-title').textContent = translations[currentLang].candlesTitle;
            document.getElementById('krathong-title').textContent = translations[currentLang].krathongTitle;
            document.getElementById('floating-title').textContent = translations[currentLang].floatingTitle;
            document.getElementById('language-title').textContent = translations[currentLang].languageTitle;
            document.getElementById('gamification-title').textContent = translations[currentLang].gamificationTitle;
            document.getElementById('flashcards-title').textContent = translations[currentLang].flashcardsTitle;
            document.getElementById('quiz-title').textContent = translations[currentLang].quizTitle;
            document.getElementById('archives-title').textContent = translations[currentLang].archivesTitle;
            document.getElementById('archives-desc').textContent = translations[currentLang].archivesDesc;
            document.getElementById('ai-agents-title').textContent = translations[currentLang].aiAgentsTitle;
            document.getElementById('about-title').textContent = translations[currentLang].aboutTitle;
            document.getElementById('about-desc').textContent = translations[currentLang].aboutDesc;
            document.getElementById('about-desc2').textContent = translations[currentLang].aboutDesc2;
        }
        
        // Update PDF content based on language
        function updateContentFromPDF() {
            document.getElementById('lanterns-desc').textContent = yiPengContent.lanterns[currentLang];
            document.getElementById('merit-making-desc').textContent = yiPengContent.meritMaking[currentLang];
            document.getElementById('tung-desc').textContent = yiPengContent.tung[currentLang];
            document.getElementById('candles-desc').textContent = yiPengContent.candles[currentLang];
            document.getElementById('krathong-desc').textContent = yiPengContent.krathong[currentLang];
            document.getElementById('floating-desc').textContent = yiPengContent.floating[currentLang];
            
            // Update expressions in language section
            const languageCards = document.querySelectorAll('.language-card');
            languageCards.forEach((card, index) => {
                if (index < yiPengExpressions.length) {
                    const exp = yiPengExpressions[index];
                    const paragraphs = card.querySelectorAll('p');
                    if (paragraphs[0]) {
                        paragraphs[0].innerHTML = `<strong>Meaning:</strong> ${currentLang === 'en' ? exp.meaning_en : exp.meaning_th}`;
                    }
                    if (paragraphs[1]) {
                        paragraphs[1].innerHTML = `<strong>Usage:</strong> "${currentLang === 'en' ? exp.usage_en : exp.usage_th}"`;
                    }
                }
            });
        }
        
        // Chatbot functionality
        const chatbotToggle = document.getElementById('chatbot-toggle');
        const chatbotContainer = document.getElementById('chatbot-container');
        const chatbotMessages = document.getElementById('chatbot-messages');
        const chatbotInput = document.getElementById('chatbot-input');
        const chatbotSend = document.getElementById('chatbot-send');
        
        chatbotToggle.addEventListener('click', () => {
            if (chatbotContainer.style.display === 'none') {
                chatbotContainer.style.display = 'flex';
                chatbotToggle.style.display = 'none';
            }
        });
        
        // Close chatbot when clicking outside
        document.addEventListener('click', (e) => {
            if (chatbotContainer.style.display === 'flex' && 
                !chatbotContainer.contains(e.target) && 
                e.target !== chatbotToggle) {
                chatbotContainer.style.display = 'none';
                chatbotToggle.style.display = 'flex';
            }
        });
        
        chatbotSend.addEventListener('click', sendMessage);
        chatbotInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
        
        function sendMessage() {
            const message = chatbotInput.value.trim();
            if (!message) return;
            
            // Add user message
            const userMsg = document.createElement('div');
            userMsg.className = 'message user-message';
            userMsg.textContent = message;
            chatbotMessages.appendChild(userMsg);
            
            chatbotInput.value = '';
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
            
            // Simulate AI response about Yi Peng
            setTimeout(() => {
                const responses = [
                    "That's related to Yi Peng traditions! The lanterns symbolize letting go of negativity.",
                    "In Lanna culture, floating krathongs represents asking forgiveness from the water goddess.",
                    "Tung banners are believed to bring great merit when offered at temples during Yi Peng.",
                    "The merit-making events during Yi Peng span three days with different sermons each evening.",
                    "Yi Peng candles are placed at useful household locations to bring intelligence and brightness.",
                    "The floating lantern tradition dates back to the Hariphunchai period in the 14th century.",
                    "Would you like to learn more about this Yi Peng tradition with our flashcards?",
                    "This expression is commonly used during the Yi Peng festival in Chiang Mai."
                ];
                
                const botMsg = document.createElement('div');
                botMsg.className = 'message bot-message';
                botMsg.textContent = responses[Math.floor(Math.random() * responses.length)];
                chatbotMessages.appendChild(botMsg);
                
                chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
            }, 1000);
        }
        
        // Flashcard functionality (30 cards with Yi Peng content)
        let currentFlashcardIndex = 0;
        const flashcardContainer = document.getElementById('flashcard-container');
        const flashcard = document.getElementById('flashcard');
        const flashcardWord = document.getElementById('flashcard-word');
        const flashcardMeaning = document.getElementById('flashcard-meaning');
        const nextFlashcardBtn = document.getElementById('next-flashcard');
        const prevFlashcardBtn = document.getElementById('prev-flashcard');
        
        // Initialize flashcard with Yi Peng expressions
        function updateFlashcard() {
            const exp = yiPengExpressions[currentFlashcardIndex % yiPengExpressions.length];
            flashcardWord.textContent = exp.thai;
            flashcardMeaning.textContent = currentLang === 'en' ? exp.meaning_en : exp.meaning_th;
            flashcard.classList.remove('flipped');
        }
        
        // Flashcard flip functionality
        flashcardContainer.addEventListener('click', () => {
            flashcard.classList.toggle('flipped');
        });
        
        // Next flashcard
        nextFlashcardBtn.addEventListener('click', () => {
            currentFlashcardIndex = (currentFlashcardIndex + 1) % yiPengExpressions.length;
            updateFlashcard();
            updatePoints(5);
        });
        
        // Previous flashcard
        prevFlashcardBtn.addEventListener('click', () => {
            currentFlashcardIndex = (currentFlashcardIndex - 1 + yiPengExpressions.length) % yiPengExpressions.length;
            updateFlashcard();
        });
        
        // Quiz functionality
        let currentQuestionIndex = 0;
        let quizScore = 0;
        const quizQuestion = document.getElementById('quiz-question');
        const quizOptions = document.getElementById('quiz-options');
        const quizFeedback = document.getElementById('quiz-feedback');
        const nextQuestionBtn = document.getElementById('next-question');
        const resetQuizBtn = document.getElementById('reset-quiz');
        
        // Generate quiz question
        function generateQuizQuestion() {
            const exp = yiPengExpressions[currentQuestionIndex % yiPengExpressions.length];
            quizQuestion.textContent = currentLang === 'en' ? 
                `What does "${exp.thai}" mean?` : 
                `"${exp.thai}" แปลว่าอะไร?`;
            
            // Create options - one correct, three incorrect
            const correctOption = currentLang === 'en' ? exp.meaning_en : exp.meaning_th;
            let incorrectOptions = [];
            
            // Get 3 random incorrect meanings
            while (incorrectOptions.length < 3) {
                const randomExp = yiPengExpressions[Math.floor(Math.random() * yiPengExpressions.length)];
                const randomMeaning = currentLang === 'en' ? randomExp.meaning_en : randomExp.meaning_th;
                if (randomMeaning !== correctOption && !incorrectOptions.includes(randomMeaning)) {
                    incorrectOptions.push(randomMeaning);
                }
            }
            
            // Combine and shuffle options
            const allOptions = [correctOption, ...incorrectOptions];
            allOptions.sort(() => Math.random() - 0.5);
            
            // Create option elements
            quizOptions.innerHTML = '';
            allOptions.forEach(option => {
                const optionEl = document.createElement('div');
                optionEl.className = 'quiz-option';
                optionEl.textContent = option;
                optionEl.dataset.correct = option === correctOption ? 'true' : 'false';
                quizOptions.appendChild(optionEl);
            });
            
            // Clear feedback
            quizFeedback.style.display = 'none';
            quizFeedback.className = 'quiz-feedback';
            
            // Enable options
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.style.pointerEvents = 'auto';
                option.classList.remove('correct', 'incorrect');
            });
            
            nextQuestionBtn.style.display = 'none';
        }
        
        // Handle option selection
        quizOptions.addEventListener('click', (e) => {
            if (e.target.classList.contains('quiz-option')) {
                const selectedOption = e.target;
                const isCorrect = selectedOption.dataset.correct === 'true';
                
                // Disable further selections
                document.querySelectorAll('.quiz-option').forEach(option => {
                    option.style.pointerEvents = 'none';
                });
                
                // Highlight correct/incorrect
                if (isCorrect) {
                    selectedOption.classList.add('correct');
                    quizFeedback.textContent = currentLang === 'en' ? 'Correct! Well done!' : 'ถูกต้อง! เยี่ยมมาก!';
                    quizFeedback.classList.add('feedback-correct');
                    quizScore++;
                    updatePoints(10);
                } else {
                    selectedOption.classList.add('incorrect');
                    // Highlight correct answer
                    document.querySelector('.quiz-option[data-correct="true"]').classList.add('correct');
                    quizFeedback.textContent = currentLang === 'en' ? 
                        `Incorrect. The correct answer is: ${document.querySelector('.quiz-option[data-correct="true"]').textContent}` : 
                        `ผิดค่ะ คำตอบที่ถูกคือ: ${document.querySelector('.quiz-option[data-correct="true"]').textContent}`;
                    quizFeedback.classList.add('feedback-incorrect');
                }
                
                quizFeedback.style.display = 'block';
                nextQuestionBtn.style.display = 'block';
            }
        });
        
        // Next question
        nextQuestionBtn.addEventListener('click', () => {
            currentQuestionIndex = (currentQuestionIndex + 1) % yiPengExpressions.length;
            generateQuizQuestion();
        });
        
        // Reset quiz
        resetQuizBtn.addEventListener('click', () => {
            currentQuestionIndex = 0;
            quizScore = 0;
            generateQuizQuestion();
            updatePoints(-userPoints);
            updatePoints(0);
        });
        
        // Navigation functionality
        const navItems = document.querySelectorAll('.nav-item');
        
        function scrollToSection(id) {
            const section = document.getElementById(id);
            if (section) {
                window.scrollTo({
                    top: section.offsetTop - 100,
                    behavior: 'smooth'
                });
            }
        }
        
        // Event listeners for navigation
        navItems.forEach(item => {
            item.addEventListener('click', () => {
                navItems.forEach(i => i.classList.remove('active'));
                item.classList.add('active');
                scrollToSection(item.dataset.target);
            });
        });
        
        // Update active nav item on scroll
        window.addEventListener('scroll', () => {
            const sections = ['festival', 'traditions', 'language', 'gamification', 'archives', 'ai-agents', 'about'];
            const scrollPos = window.scrollY + 120;
            
            for (const sectionId of sections) {
                const section = document.getElementById(sectionId);
                if (section && scrollPos >= section.offsetTop && scrollPos < section.offsetTop + section.offsetHeight) {
                    navItems.forEach(item => {
                        if (item.dataset.target === sectionId) {
                            item.classList.add('active');
                        } else {
                            item.classList.remove('active');
                        }
                    });
                    break;
                }
            }
        });
        
        // Initialize the app
        document.body.className = `lang-${currentLang}`;
        updateFlashcard();
        generateQuizQuestion();
        updateTranslations();
        updateContentFromPDF();
    </script>
</body>
</html>
